<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DynamicText</title>

    <script>
      var exports = {};
    </script>
    <script src="/lib/index.js"></script>
    <link rel="icon" href="data:;base64,=" />
  </head>
  <body>
    <h1>Fun Text</h1>
    <div id="container"><h2>Hello worlds</h2></div>
    <pre>
  __────__
 /  o     \
|       O  |
|          |
 \    o   /
  ‾‾────‾‾
    </pre>

    <script defer>
      const options = {
        text: "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, repellat.\n Facere possimus perspiciatis minima nulla voluptatibus eos, quae cum ullam debitis reiciendis\n ipsa deserunt rem perferendis, a et, aliquid sed.",
        scope: "all",
        container: null,
      };
      const animations = [
        {
          type: "color",
          steps: ["red", "blue"],
          iteration: "infinite",
          duration: 2,
          direction: "alternate",
          offset: 0.1,
          delay: -6,
        },
        {
          type: "background",
          steps: ["blue", "red"],
          iteration: "infinite",
          duration: 2,
          direction: "alternate",
          offset: 0.1,
          delay: -6,
        },
        {
          type: "horizontal",
          steps: ["1rem", "15rem"],
          iteration: "infinite",
          duration: 3,
          direction: "alternate",
          offset: 0.01,
          delay: -6,
        },
        {
          type: "vertical",
          steps: { 0: "3rem", 50: "0rem", 100: "-3rem" },
          iteration: "infinite",
          duration: 3,
          direction: "alternate",
          offset: 0.02,
          delay: -6,
        },
      ];

      /*const texts = [];
      const runs = 10000;
      console.log("Iterations: " + runs);

      console.time("Containers");
      const containers = [];
      for (let i = 0; i < runs; i++) {
        containers.push(document.createElement("div"));
      }
      console.timeEnd("Containers");

      console.time("Init");
      for (const con of containers) {
        options.container = con;
        texts.push(new FunText(options, animations));
      }
      console.timeEnd("Init");

      console.time("Build");
      for (const text of texts) {
        text.build();
      }
      console.timeEnd("Build");

      console.time("Mount");
      for (const text of texts) {
        text.mount();
      }
      console.timeEnd("Mount");

      console.time("Unmount");
      for (const text of texts) {
        text.unmount();
      }
      console.timeEnd("Unmount");*/

      options.container = document.getElementById("container");

      console.time("Init");
      const funtext = new FunText(options, animations);
      console.timeEnd("Init");

      console.time("Build");
      funtext.build();
      console.timeEnd("Build");

      console.time("Mount");
      funtext.mount();
      console.timeEnd("Mount");
    </script>

    <style>
      body {
        margin: 0;
        padding: 5rem;
      }
    </style>
  </body>
</html>
